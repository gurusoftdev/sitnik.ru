@import "rails-sass-images"

@function black($opacity)
  @return rgba(0, 0, 0, $opacity)

@function white($opacity)
  @return rgba(255, 255, 255, $opacity)

@mixin no-tap-highlight
  -webkit-tap-highlight-color: white(0)

*
  margin: 0
  padding: 0
li
  list-style: none
a
  color: #333
  text-decoration: none

html
  position: relative
  min-height: 100%

body
  color: #333
  background: #f8f8f8
  text-align: center
  font: 15px Cuprum, sans-serif
  text-shadow: 1px 1px 0 white
  margin-bottom: 100px

.person
  padding: 10px

.images
  width: 220px
  height: 220px
  position: relative
  margin: 50px auto 60px auto

.mask, .photo
  cursor: pointer
  +no-tap-highlight

.mask
  position: absolute
  top: 0
  left: -8px
  +image-size("mask.png", 2)
  background-size: 100% 100%

.photo
  position: absolute
  top: 0
  left: 0
  width: 100%
  height: 100%
  border-radius: 50%
  background-size: 100% 100%
  box-shadow: 1px 1px 0 white

.images
  perspective: 400px
.mask, .photo
  backface-visibility: hidden
  transition: transform 1.4s cubic-bezier(0.165, 0.84, 0.44, 1)
.photo
  transform: rotateY(-180deg)

.name
  font-weight: normal
  font-size: 48px
  padding-bottom: 20px

.list
  padding-top: 30px
  font-size: 18px
.piece
  display: inline-block
  margin-right: 50px
  width: 190px + 30px
  text-align: left
  vertical-align: top

.link
  display: inline-block
  padding: 10px 10px 8px 10px
  background: black(0)
  transition: background 200ms
  position: relative
  &:hover
    background: black(0.04)

.contacts
  .label
    color: #666
  .value
    padding-top: 3px
    font-size: 24px
    transition: color 200ms
  .link:hover .value
    color: black

.links
  .icon
    position: absolute
    left: 10px
    opacity: 0.75
    transition: opacity 200ms
  .service
    color: #333
    font-size: 24px
  .dash
    color: #bbb
    padding: 0 4px
  .login
    color: #666
  .service, .dash, .login
    transition: color 200ms
  .link:hover
    .icon
      opacity: 1
    .service
      color: black
    .dash
      color: #888
    .login
      color: #333

@each $service in github, twitter, vk, facebook
  .#{ $service }
    .link
      padding-left: (image-width("#{ $service }.png") / 2) + 20px
      margin-left: (image-width("#{ $service }.png") / -2) - 10px
    .icon
      top: round((45px - (image-height("#{ $service }.png") / 2)) / 2)
      +image-size("#{ $service }.png", 2)
      background-size: 100% 100%

.languages
  position: absolute
  left: 0
  bottom: 0
  right: 0
.lang
  display: inline-block
  margin: 0 0 13px 20px
  color: #666
  border-bottom: 1px solid black(0.2)
  line-height: 1
  transition: color 200ms, border 200ms
  &.is-current
    color: #333
    border-bottom: none
  &:first-child
    margin-left: 0
  &:hover
    color: #333
    border-bottom-color: #333
